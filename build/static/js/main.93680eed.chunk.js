(this["webpackJsonppersonal-budget"]=this["webpackJsonppersonal-budget"]||[]).push([[0],{156:function(e,t,a){},157:function(e,t,a){},320:function(e,t,a){"use strict";a.r(t);var n=a(4),s=a(1),r=a.n(s),c=a(19),i=a.n(c),o=(a(156),a(29)),l=(a(157),a(33)),d=a.n(l),u=a(142).a.initializeApp({apiKey:"AIzaSyCWOGwTx6lAnYp6JBu0eR036izNrrCJvD8",authDomain:"personal-budget-63c6d.firebaseapp.com",projectId:"personal-budget-63c6d",storageBucket:"personal-budget-63c6d.appspot.com",messagingSenderId:"657519019967",appId:"1:657519019967:web:b1afd4eb0dda75b765c30a"}),h=function(e){var t=e.name,a=e.setName,s=e.email,r=e.setEmail,c=e.password,i=e.setPassword,o=e.handleLogin,l=e.handleSignup,d=e.hasAccount,u=e.setHasAccount,h=e.emailError,j=e.passwordError;return Object(n.jsx)("section",{className:"login",children:Object(n.jsxs)("div",{className:"loginContainer",children:[Object(n.jsx)("label",{children:Object(n.jsx)("h1",{children:"Personal Budget"})}),Object(n.jsx)("div",{className:"btnContainer",children:d?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{children:"Username"}),Object(n.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:s,onChange:function(e){return r(e.target.value)}}),Object(n.jsx)("p",{className:"errorMsg",children:h}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",required:!0,value:c,onChange:function(e){return i(e.target.value)}}),Object(n.jsx)("p",{className:"errorMsg",children:j}),Object(n.jsx)("button",{onClick:o,children:"Sign in"}),Object(n.jsxs)("p",{children:["Don't have an account?",Object(n.jsx)("span",{onClick:function(){return u(!d)},children:"Sign up"})]})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{children:"Name"}),Object(n.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:t,onChange:function(e){return a(e.target.value)}}),Object(n.jsx)("label",{children:"Username"}),Object(n.jsx)("input",{type:"text",required:!0,value:s,onChange:function(e){return r(e.target.value)}}),Object(n.jsx)("p",{className:"errorMsg",children:h}),Object(n.jsx)("label",{children:"Password"}),Object(n.jsx)("input",{type:"password",required:!0,value:c,onChange:function(e){return i(e.target.value)}}),Object(n.jsx)("p",{className:"errorMsg",children:j}),Object(n.jsx)("button",{onClick:l,children:"Sign up"}),Object(n.jsxs)("p",{children:["have an account?",Object(n.jsx)("span",{onClick:function(){return u(!d)},children:"Sign in"})]})]})})]})})},j=a(141),b=a(18),p=function(e){var t=e.handleLogout;e.userName;return Object(n.jsxs)("nav",{className:"mr-auto",children:[Object(n.jsx)("h2",{children:"Personal Budget"}),Object(n.jsx)("a",{href:"/",children:"Dashboard"}),Object(n.jsx)("a",{href:"/visualization",children:"Visualization"}),Object(n.jsx)("button",{onClick:t,children:"Logout"})]})},g=function(){return Object(n.jsx)("footer",{className:"fixed-bottom",children:Object(n.jsx)("p",{children:"Final project Network based application"})})},m=a(70),O=a(45),x=a(46),f=a(34),v=a(49),C=a(47),S=a(360),y=(a(178),a(138)),k=a.n(y),w=a(139),N=a.n(w),P=a(358),D=a(361),A=a(356),B=a(355),I=a(362),M=function(e){Object(v.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).clearInput=function(){n.setState({title:""}),n.setState({amount:""}),n.setState({category:""}),n.setState({date:""})},n.handleClickOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({errorMessage:""}),n.clearInput(),n.setState({open:!1})},n.handleChange=function(e){n.setState(Object(m.a)({},e.target.id,e.target.value))},n.updateClicked=function(e,t){n.setState({isUpdate:!0}),n.setState({userId:t._id}),n.setState({title:t.title}),n.setState({amount:t.amount}),n.setState({category:t.category}),n.setState({date:t.date}),n.handleClickOpen()},n.deleteClicked=function(e){d()({method:"post",headers:{Pragma:"no-cache"},url:"http://104.236.16.238:3001/deleteData",data:{id:e.target.value}}),window.location.reload()},n.handleSubmit=function(){""===n.state.title||""===n.state.amount||""===n.state.title||""===n.state.title?n.setState({errorMessage:"Please enter all the values."}):(n.setState({errorMessage:""}),n.state.isUpdate?d()({method:"post",headers:{Pragma:"no-cache"},url:"http://104.236.16.238:3001/updateData",data:{id:n.state.userId,username:n.props.user,title:n.state.title,amount:n.state.amount,category:n.state.category,date:n.state.date}}):(n.setState({isUpdate:!1}),d()({method:"post",headers:{Pragma:"no-cache"},url:"http://104.236.16.238:3001/addNewData",data:{username:n.props.user,title:n.state.title,amount:n.state.amount,category:n.state.category,date:n.state.date,month:n.state.date.substr(5,2),year:n.state.date.slice(0,4)}})),window.location.reload(),n.handleClose())},n.updateClicked=n.updateClicked.bind(Object(f.a)(n)),n.deleteClicked=n.deleteClicked.bind(Object(f.a)(n)),n.updateButton=n.updateButton.bind(Object(f.a)(n)),n.deleteButton=n.deleteButton.bind(Object(f.a)(n)),n.state={expenses:[],columns:[{dataField:"id",text:"id",hidden:!0},{dataField:"title",text:"Title"},{dataField:"amount",text:"Amount (US Dollar $)"},{dataField:"category",text:"Category"},{dataField:"date",text:"Date",sort:!0},{dataField:"update",text:"Update",formatter:n.updateButton},{dataField:"delete",text:"Delete",formatter:n.deleteButton}],open:!1,title:"",amount:"",category:"",date:"",userId:"",rowId:"",month:"",year:"",isUpdate:!1,error:!1,errorMessage:""},n}return Object(x.a)(a,[{key:"componentDidMount",value:function(){var e=this;d()({method:"post",headers:{Pragma:"no-cache"},url:"http://104.236.16.238:3001/expenses",data:{username:this.props.user}}).then((function(t){for(var a=[],n=0;n<t.data.length;n++)a[n]=t.data[n];e.setState({expenses:a})}))}},{key:"updateButton",value:function(e,t,a,s){var r=this;return Object(n.jsx)(S.a,{variant:"primary",value:t,onClick:function(e){return r.updateClicked(e,t)},children:"Update"})}},{key:"deleteButton",value:function(e,t,a,s){var r=this;return Object(n.jsx)(S.a,{value:t._id,onClick:function(e){return r.deleteClicked(e)},variant:"danger",children:"Delete"})}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"userInfo",children:["Hello user : ",this.props.user," "]}),Object(n.jsx)(k.a,{className:"dataTable",keyField:"id",data:this.state.expenses,columns:this.state.columns,pagination:N()({sizePerPage:5,sizePerPageList:[5,10,15,20,25,30,35,40,45,50],firstPageText:"First",prePageText:"Back",nextPageText:"Next",lastPageText:"Last",nextPageTitle:"First page",prePageTitle:"Pre page",firstPageTitle:"Next page",lastPageTitle:"Last page",showTotal:!0}),sort:{dataField:"date",order:"desc"}}),Object(n.jsxs)("div",{children:[Object(n.jsx)(S.a,{className:"addButton",variant:"success",onClick:this.handleClickOpen,children:"Add new Expense"}),Object(n.jsxs)(D.a,{className:"newData",open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(I.a,{id:"form-dialog-title",children:"Add Expense"}),Object(n.jsxs)(B.a,{className:"dialogContent",children:[Object(n.jsx)(P.a,{autoFocus:!0,margin:"dense",id:"title",label:"Title",type:"text",required:"yes",value:this.state.title,onChange:this.handleChange}),Object(n.jsx)(P.a,{margin:"dense",id:"amount",label:"Amount",type:"number",required:"yes",value:this.state.amount,onChange:this.handleChange}),Object(n.jsx)(P.a,{margin:"dense",id:"category",label:"Category",type:"text",required:"yes",value:this.state.category,onChange:this.handleChange}),Object(n.jsx)(P.a,{margin:"dense",id:"date",label:"",required:"yes",disableClock:!0,type:"date",value:this.state.date,onChange:this.handleChange}),Object(n.jsx)("h6",{children:this.state.errorMessage})]}),Object(n.jsxs)(A.a,{children:[Object(n.jsx)(S.a,{variant:"danger",onClick:this.handleClose,color:"primary",children:"Cancel"}),Object(n.jsx)(S.a,{variant:"success",onClick:this.handleSubmit,color:"primary",children:"Submit"})]})]})]})]})}}]),a}(s.Component),E=a(357),F=function(e){return Object(n.jsx)(E.a,{children:e.children})},T=a(140),U=a(78),L=function(e){Object(v.a)(a,e);var t=Object(C.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(x.a)(a,[{key:"render",value:function(){var e=this.props.expenses;return Object(n.jsxs)("div",{className:"charts_h3",children:[Object(n.jsxs)("div",{className:"pieChart",children:[Object(n.jsx)("h3",{children:"Pie Chart"}),Object(n.jsx)(U.Pie,{data:e})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"pieChart",children:[Object(n.jsx)("h3",{children:"Bar Chart"}),Object(n.jsx)(U.Bar,{data:e,options:{maintainAspectRatio:!1,scales:{yAxes:[{stacked:!0,ticks:{beginAtZero:!0,min:0}}],xAxes:[{stacked:!0}]}}})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"pieChart",children:[Object(n.jsx)("h3",{children:"Doughnut Chart"}),Object(n.jsx)(U.Doughnut,{data:e})]})]})}}]),a}(s.Component),q=function(e){Object(v.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).dateSelected=function(e){n.setState({showResult:!0});var t=[],a=[],s=[],r=[],c="";c=parseInt(n.state.month)<10?"0"+String(n.state.month):n.state.month;var i={labels:[],datasets:[{data:[],label:"Bar Chart",backgroundColor:[],hoverBackgroundColor:[]}]};d()({method:"post",headers:{Pragma:"no-cache"},url:"http://104.236.16.238:3001/groupData",data:{username:n.props.user,month:String(c),year:String(n.state.year)}}).then((function(e){n.setState({noDataErr:""}),c="";for(var o=0;o<e.data.length;o++)t[o]=parseInt(e.data[o].total),a[o]=e.data[o]._id,s[o]=n.colorGenerator(),r[o]=n.colorGenerator();i.labels=a,i.datasets[0].data=t,i.datasets[0].backgroundColor=s,i.datasets[0].hoverBackgroundColor=r,0===a.length&&(n.setState({showResult:!1}),n.setState({noDataErr:"No data for selected date found"})),n.setState({finalState:i})})).catch((function(e){n.setState({noDataErr:"No data for selected date found"})}))},n.handleChange=function(e){n.setState(Object(m.a)({},e.target.id,e.target.value))},n.colorGenerator=function(){return"rgb("+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+")"},n.state={finalState:[],chartData:{},title:"",amount:"",category:"",date:"",userId:"",rowId:"",month:"12",year:"2020",noDataErr:"",showResult:!1},n.dateSelected=n.dateSelected.bind(Object(f.a)(n)),n}return Object(x.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"userInfo",children:Object(n.jsxs)("h6",{children:["Hello user : ",this.props.user," "]})}),Object(n.jsxs)("h6",{children:["Please pick the month and year expense charts Default Month : December and Year : ",this.state.year]}),Object(n.jsx)(T.a,{selectedMonth:this.state.month,selectedYear:this.state.year,minYear:2019,maxYear:2021,onChangeYear:function(t){return e.setState({year:t})},onChangeMonth:function(t){return e.setState({month:t})}}),Object(n.jsx)(S.a,{onClick:function(t){return e.dateSelected(t)},variant:"primary",className:"dateSubmit",children:"Submit"}),Object(n.jsx)("h6",{children:this.state.noDataErr}),this.state.showResult?Object(n.jsx)(L,{expenses:this.state.finalState}):null]})}}]),a}(s.Component),z=function(){return Object(n.jsx)("div",{children:"No Such Page please select the desired page from Navigartion bar"})},R=function(e){var t=e.handleLogout,a=(e.email,Object(s.useState)("")),r=Object(o.a)(a,2),c=r[0],i=r[1];return u.auth().onAuthStateChanged((function(e){e&&i(e.email)})),Object(n.jsxs)("section",{className:"hero",children:[Object(n.jsx)(p,{handleLogout:t,userName:c}),Object(n.jsx)(F,{children:Object(n.jsx)(j.a,{children:Object(n.jsxs)(b.c,{children:[Object(n.jsx)(b.a,{exact:!0,path:"/",component:function(){return Object(n.jsx)(M,{user:c})}}),Object(n.jsx)(b.a,{exact:!0,path:"/visualization",component:function(){return Object(n.jsx)(q,{user:c})}}),Object(n.jsx)(b.a,{component:z})]})})}),Object(n.jsx)(g,{})]})},Y=function(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(""),i=Object(o.a)(c,2),l=i[0],j=i[1],b=Object(s.useState)(""),p=Object(o.a)(b,2),g=p[0],m=p[1],O=Object(s.useState)(""),x=Object(o.a)(O,2),f=x[0],v=x[1],C=Object(s.useState)(""),S=Object(o.a)(C,2),y=S[0],k=S[1],w=Object(s.useState)(!0),N=Object(o.a)(w,2),P=N[0],D=N[1],A=Object(s.useState)(!1),B=Object(o.a)(A,2),I=(B[0],B[1]),M=Object(s.useState)(""),E=Object(o.a)(M,2),F=E[0],T=E[1],U=function(){v(""),k("")},L=function(){r(""),localStorage.clear(),u.auth().signOut()},q=function(){u.auth().onAuthStateChanged((function(e){e?(T(""),j(""),m(""),r(e),localStorage.setItem("isUser",I(!0))):(r(""),localStorage.clear())}))};return Object(s.useEffect)((function(){q()}),[]),localStorage.getItem("isUser")?Object(n.jsx)(R,{handleLogout:L}):Object(n.jsx)("div",{className:"App",children:a?Object(n.jsx)(R,{handleLogout:L}):Object(n.jsx)(h,{name:F,setName:T,email:l,setEmail:j,password:g,setPassword:m,handleLogin:function(){U(),u.auth().signInWithEmailAndPassword(l,g).then((function(e){})).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":v(e.message);break;case"auth/wrong-password":k(e.message)}}))},handleSignup:function(){localStorage.clear(),U(),u.auth().createUserWithEmailAndPassword(l,g).then((function(e){d()({method:"post",headers:{Pragma:"no-cache"},url:"http://104.236.16.238:3001/addUser",data:{name:F,username:l}})})).catch((function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":v(e.message);break;case"auth/weak-password":k(e.message)}}))},hasAccount:P,setHasAccount:D,emailError:f,passwordError:y})})};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(Y,{})}),document.getElementById("root"))}},[[320,1,2]]]);
//# sourceMappingURL=main.93680eed.chunk.js.map